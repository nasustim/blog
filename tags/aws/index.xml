<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>AWS on nasustim's weblog</title><link>https://blog.nasustim.com/tags/aws/</link><description>Recent content in AWS on nasustim's weblog</description><generator>Hugo -- gohugo.io</generator><language>ja-jp</language><lastBuildDate>Tue, 14 Feb 2023 13:39:10 +0000</lastBuildDate><atom:link href="https://blog.nasustim.com/tags/aws/index.xml" rel="self" type="application/rss+xml"/><item><title>AWS CLIでベースイメージからECSで実行中のタスクのarnを取得する方法</title><link>https://blog.nasustim.com/entry/get-task-arn-by-task-definitions-base-image/</link><pubDate>Tue, 14 Feb 2023 13:39:10 +0000</pubDate><guid>https://blog.nasustim.com/entry/get-task-arn-by-task-definitions-base-image/</guid><description>task_arns=$(aws ecs list-tasks --cluster &amp;lt;クラスタ名&amp;gt; | jq -c -r &amp;#39;.taskArns[]&amp;#39;) # 実行中のtask arnの一覧を取得 for task in $tasks; do \ image_name=$( aws ecs describe-tasks --cluster &amp;lt;クラスタ名&amp;gt; --tasks $task | jq -c -r &amp;#39;.tasks[0].containers[0].image&amp;#39; ) if [[ &amp;#34;$image&amp;#34; =~ .*&amp;#34;my-target-image:latest&amp;#34;$ ]]; then echo $task # my-target-image:latest をベースイメージにしたタスク fi done special thanks: ChatGPT
サンキューChatGPT pic.twitter.com/uMel5BhAkc
&amp;mdash; おみつ (@nasustim) February 10, 2023</description></item></channel></rss>